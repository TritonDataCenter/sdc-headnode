{
  "name": "ufds",
  "path": "/opt/smartdc/ufds/etc/config.json",
  "post_cmd": "/usr/sbin/svcadm restart ufds-master; /usr/sbin/svcadm restart ufds-capi",
  "template": "{\n    \"port\": 636,\n    \"rootDN\": \"{{{ufds_ldap_root_dn}}}\",\n    \"rootPassword\": \"{{{ufds_ldap_root_pw}}}\",\n    \"certificate\": \"/opt/smartdc/ufds/ssl/cert.pem\",\n    \"key\": \"/opt/smartdc/ufds/ssl/key.pem\",\n    \"logLevel\": \"info\",\n    \"use_bcrypt\": false,\n    \"ufds_is_master\": {{{ufds_is_master}}},\n    \"moray\": {\n        \"url\": \"http://{{{MORAY_SERVICE}}}:2020\",\n        \"connectTimeout\": 1000,\n        \"retry\": {\n            \"retries\": 3,\n            \"minTimeout\": 1000\n        }\n    },\n    \"changelog\": {\n        \"bucket\": \"ufds_cn_changelog\",\n        \"schema\": {\n            \"changetype\": { \"type\": \"string\"},\n            \"changetime\": { \"type\": \"number\" },\n            \"targetdn\": { \"type\": \"string\"}\n        }\n    },\n    \"o=smartdc\": {\n        \"blacklistRDN\": \"cn=blacklist\",\n        \"pwdPolicyRDN\": \"cn=pwdPolicy\",\n        \"bucket\": \"ufds_o_smartdc\",\n        \"administratorsGroupRDN\": \"cn=operators, ou=groups\",\n        \"readersGroupRDN\": \"cn=readers, ou=groups\",\n        \"schema\": {\n            \"login\": {\n                \"type\": \"string\",\n                \"unique\": true\n            },\n            \"uuid\": {\n                \"type\": \"string\",\n                \"unique\": true\n            },\n            \"email\": {\n                \"type\": \"string\",\n                \"unique\": true\n            },\n            \"objectclass\": { \"type\": \"string\" },\n            \"fingerprint\": { \"type\": \"string\" },\n            \"cn\": { \"type\": \"string\" },\n            \"sn\": { \"type\": \"string\" },\n            \"givenName\": { \"type\": \"string\" },\n            \"city\": { \"type\": \"string\" },\n            \"state\": { \"type\": \"string\" },\n            \"country\": { \"type\": \"string\" },\n            \"postalcode\": { \"type\": \"string\" },\n            \"agent\": { \"type\": \"string\" },\n            \"owner\": { \"type\": \"string\" },\n            \"fromtag\": { \"type\": \"string\" },\n            \"totag\": { \"type\": \"string\" },\n            \"fromvm\": { \"type\": \"string\" },\n            \"tovm\": { \"type\": \"string\" },\n            \"fromip\": { \"type\": \"string\" },\n            \"toip\": { \"type\": \"string\" },\n            \"fromsubnet\": { \"type\": \"string\" },\n            \"tosubnet\": { \"type\": \"string\" },\n            \"fromwildcard\": { \"type\": \"string\" },\n            \"towildcard\": { \"type\": \"string\" },\n            \"_owner\": { \"type\": \"string\" },\n            \"_parent\": { \"type\": \"string\" },\n            \"urn\": {\n                \"type\": \"string\",\n                \"unique\": true\n            },\n            \"pwdattribute\": { \"type\": \"string\" },\n            \"pwdinhistory\": { \"type\": \"number\" },\n            \"pwdminlength\": { \"type\": \"number\" },\n            \"pwdmaxfailure\": { \"type\": \"number\" },\n            \"pwdlockoutduration\": { \"type\": \"number\" },\n            \"pwdmaxage\": { \"type\": \"number\" },\n            \"pwdcheckquality\": { \"type\": \"string\" },\n            \"pwdchangedtime\": { \"type\": \"number\" },\n            \"pwdhistory\": { \"type\": \"string\" },\n            \"pwdpolicysubentry\": { \"type\": \"string\" },\n            \"pwdendtime\": { \"type\": \"number\" },\n            \"pwdaccountlockedtime\": { \"type\": \"number\" },\n            \"pwdfailuretime\": { \"type\": \"number\" },\n            \"_imported\": { \"type\": \"string\" },\n            \"_replicated\": { \"type\": \"string\" },\n            \"approved_for_provisioning\": { \"type\": \"string\" },\n            \"created_at\": { \"type\": \"number\" },\n            \"updated_at\": { \"type\": \"number\" }\n        }\n    }\n}\n"
}
